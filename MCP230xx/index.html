<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/MCP230xx/ rel=canonical><link rel="shortcut icon" href=../_media/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.8"><title>MCP23008 / MCP23017 GPIO Expander - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#2094f3><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Barlow",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-140681905-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=indigo> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mcp23008-mcp23017-gpio-expander class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://tasmota.github.io/docs/ title=Tasmota class="md-header-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> MCP23008 / MCP23017 GPIO Expander </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../About/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../Getting-Started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../Upgrading/ class=md-tabs__link> Upgrading </a> </li> <li class=md-tabs__item> <a href=../MQTT/ class=md-tabs__link> MQTT </a> </li> <li class=md-tabs__item> <a href=../Commands/ class=md-tabs__link> Commands </a> </li> <li class=md-tabs__item> <a href=../Templates/ class=md-tabs__link> Templates </a> </li> <li class=md-tabs__item> <a href=../Components/ class=md-tabs__link> Components </a> </li> <li class=md-tabs__item> <a href=../Modules/ class=md-tabs__link> Modules </a> </li> <li class=md-tabs__item> <a href=../Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../WebUI/ class=md-tabs__link> WebUI </a> </li> <li class=md-tabs__item> <a href=../Features/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class="md-tabs__link md-tabs__link--active"> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=../Builds/ class=md-tabs__link> Builds </a> </li> <li class=md-tabs__item> <a href=../Compile-your-build/ class=md-tabs__link> Compiling </a> </li> <li class=md-tabs__item> <a href=../Contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href="http://ota.tasmota.com/tasmota/release/ " target='_blank""' class=md-tabs__link> Download </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://tasmota.github.io/docs/ title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> Upgrading </a> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> MQTT </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> Commands </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> Templates </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> Components </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> Peripherals </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> WebUI </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-12 type=checkbox id=nav-12> <label class=md-nav__link for=nav-12> Features <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Features data-md-level=1> <label class=md-nav__title for=nav-12> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../bluetooth/Bluetooth-Esp32/ class=md-nav__link> Bluetooth ESP32 </a> </li> <li class=md-nav__item> <a href=../bluetooth/Bluetooth-Esp8266/ class=md-nav__link> Bluetooth ESP8266 </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> Buttons and Switches </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> DeepSleep </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> Device Groups </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> Dynamic Sleep </a> </li> <li class=md-nav__item> <a href=../I2CDevices/ class=md-nav__link> I2C Devices </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> IR Communication </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> Lights </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> PIR Motion Sensors </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> Power Monitoring Calibration </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> PWM Dimmer </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> RF 433MHz Protocol </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> Scripting </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> Serial to TCP Bridge </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> Shutters and Blinds </a> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> Smart Meter Interface </a> </li> <li class=md-nav__item> <a href=../Subscribe-%26-Unsubscribe/ class=md-nav__link> Subscribe & Unsubscribe </a> </li> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> TasmotaClient </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> Thermostat </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> TLS Secured MQTT </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> TuyaMCU </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> Zigbee </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> Projects and Tutorials </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> For Developers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-13 type=checkbox id=nav-13> <label class=md-nav__link for=nav-13> Smart Home Integrations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Smart Home Integrations" data-md-level=1> <label class=md-nav__title for=nav-13> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> Alexa </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> AWS IoT </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> Home Assistant </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> Homebridge </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> HomeSeer </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> IP Symcon </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> NodeRed </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> nymea </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> OctoPrint </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> openHAB </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> Otto </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> IOBroker </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> Mozilla WebThings Adapter </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> SmartThings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-14 type=checkbox id=nav-14 checked> <label class=md-nav__link for=nav-14> Peripherals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Peripherals data-md-level=1> <label class=md-nav__title for=nav-14> <span class="md-nav__icon md-icon"></span> Peripherals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> Supported Peripherals </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> Analog pin </a> </li> <li class=md-nav__item> <a href=../Buzzer/ class=md-nav__link> Buzzer </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> ESP32 Support (Beta development) </a> </li> <li class=md-nav__item> <a href=../A4988-Stepper-Motor-Controller/ class=md-nav__link> A4988 stepper motor controller </a> </li> <li class=md-nav__item> <a href=../AHT1x/ class=md-nav__link> AHT1x temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../AM2301/ class=md-nav__link> AM2301 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../APDS-9960/ class=md-nav__link> APDS-9960 light and gesture sensor </a> </li> <li class=md-nav__item> <a href=../AS3935/ class=md-nav__link> AS3935 Franklin Lightning sensor </a> </li> <li class=md-nav__item> <a href=../AZ-7798/ class=md-nav__link> AZ7798 CO<sub>2</sub> meter </a> </li> <li class=md-nav__item> <a href=../BH1750/ class=md-nav__link> BH1750 ambient light sensor </a> </li> <li class=md-nav__item> <a href=../BME280/ class=md-nav__link> BME280 temperature, humidity and pressure sensor </a> </li> <li class=md-nav__item> <a href=../BME680/ class=md-nav__link> BME680 temperature, humidity, pressure and gas sensor </a> </li> <li class=md-nav__item> <a href=../CC2530/ class=md-nav__link> CC253x Zigbee module </a> </li> <li class=md-nav__item> <a href=../Moisture-Sensor-and-Chirp%21-Sensor/ class=md-nav__link> Chirp! moisture sensor </a> </li> <li class=md-nav__item> <a href=../DHT11/ class=md-nav__link> DHT11 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../DS18x20/ class=md-nav__link> DS18x20 temperature sensor </a> </li> <li class=md-nav__item> <a href=../DS3231/ class=md-nav__link> DS3231 Real Time Clock </a> </li> <li class=md-nav__item> <a href=../EZO/ class=md-nav__link> EZO sensors </a> </li> <li class=md-nav__item> <a href=../HM-10/ class=md-nav__link> HM-10 Bluetooth module </a> </li> <li class=md-nav__item> <a href=../HM-17/ class=md-nav__link> HM-17 Bluetooth module </a> </li> <li class=md-nav__item> <a href=../HC-SR04/ class=md-nav__link> HC-SR04 ultrasonic ranging sensor </a> </li> <li class=md-nav__item> <a href=../Honeywell-HIH/ class=md-nav__link> Honeywell HIH temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../IAQ/ class=md-nav__link> iAQ-Core indoor air quality sensor </a> </li> <li class=md-nav__item> <a href=../IR-Remote/ class=md-nav__link> IR Remote </a> </li> <li class=md-nav__item> <a href=../LM75AD/ class=md-nav__link> LM75AD temperature sensor </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> MCP23008 / MCP23017 GPIO Expander <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> MCP23008 / MCP23017 GPIO Expander </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#mcp23008-mcp23017-pin-numbers-in-tasmota-compared-to-datasheets class=md-nav__link> MCP23008 / MCP23017 Pin numbers in Tasmota compared to datasheets </a> </li> <li class=md-nav__item> <a href=#usage-of-the-driver class=md-nav__link> Usage of the driver </a> </li> <li class=md-nav__item> <a href=#device-configuration class=md-nav__link> Device Configuration </a> <nav class=md-nav aria-label="Device Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#important-notice-on-use-of-interrupts class=md-nav__link> IMPORTANT NOTICE ON USE OF INTERRUPTS </a> </li> <li class=md-nav__item> <a href=#interrupt-modes-and-usage class=md-nav__link> INTERRUPT MODES AND USAGE </a> </li> <li class=md-nav__item> <a href=#home-assistant-tips class=md-nav__link> HOME ASSISTANT TIPS </a> </li> <li class=md-nav__item> <a href=#advanced-functions class=md-nav__link> ADVANCED FUNCTIONS </a> </li> <li class=md-nav__item> <a href=#advanced-function-1-interrupt-priority-intpri class=md-nav__link> ADVANCED FUNCTION #1 - INTERRUPT PRIORITY (INTPRI) </a> </li> <li class=md-nav__item> <a href=#advanced-function-2-interrupt-defer-intdef class=md-nav__link> ADVANCED FUNCTION #2 - INTERRUPT DEFER (INTDEF) </a> </li> <li class=md-nav__item> <a href=#advanced-function-3-interrupt-timer-inttimer class=md-nav__link> ADVANCED FUNCTION #3 - INTERRUPT TIMER (INTTIMER) </a> </li> <li class=md-nav__item> <a href=#advanced-function-4-interrupt-counter-enable-intcnt class=md-nav__link> ADVANCED FUNCTION #4 - INTERRUPT COUNTER ENABLE (INTCNT) </a> </li> <li class=md-nav__item> <a href=#advanced-function-5-interrupt-retain-intretain class=md-nav__link> ADVANCED FUNCTION #5 - INTERRUPT RETAIN (INTRETAIN) </a> </li> <li class=md-nav__item> <a href=#output-functions-pin-modes-5-and-6 class=md-nav__link> OUTPUT FUNCTIONS (PIN MODES 5 AND 6) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../MGC3130/ class=md-nav__link> MGC3130 3D tracking and gesture controller </a> </li> <li class=md-nav__item> <a href=../MH-Z19B/ class=md-nav__link> MH-Z19B CO<sub>2</sub> Sensor </a> </li> <li class=md-nav__item> <a href=../MLX90614/ class=md-nav__link> MLX90614 infrared thermometer </a> </li> <li class=md-nav__item> <a href=../MLX90640/ class=md-nav__link> MLX90640 Far infrared thermal sensor array </a> </li> <li class=md-nav__item> <a href=../MPR121/ class=md-nav__link> MPR121 capacitive touch sensor </a> </li> <li class=md-nav__item> <a href=../MPU-6050/ class=md-nav__link> MPU-6050 gyroscope and accelerometer </a> </li> <li class=md-nav__item> <a href=../NRF24L01/ class=md-nav__link> NRF24L01 module </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../P1-Smart-Meter/ class=md-nav__link> P1 Smart Meter </a> </li> <li class=md-nav__item> <a href=../PAJ7620/ class=md-nav__link> PAJ7620U2 gesture sensor </a> </li> <li class=md-nav__item> <a href=../PCA9685/ class=md-nav__link> PCA9685 12-bit PWM controller </a> </li> <li class=md-nav__item> <a href=../PN532/ class=md-nav__link> PN532 NFC reader </a> </li> <li class=md-nav__item> <a href=../PZEM-0XX/ class=md-nav__link> PZEM-0xx power monitor </a> </li> <li class=md-nav__item> <a href=../RCWL-0516/ class=md-nav__link> RCWL-0516 microwave radar motion sensor </a> </li> <li class=md-nav__item> <a href=../RDM6300/ class=md-nav__link> RDM6300 RFID reader </a> </li> <li class=md-nav__item> <a href=../RF-Transciever/ class=md-nav__link> RF Transciever </a> </li> <li class=md-nav__item> <a href=../SDS011/ class=md-nav__link> SDS011 air quality sensor </a> </li> <li class=md-nav__item> <a href=../SHT30/ class=md-nav__link> SHT30 temperature sensor </a> </li> <li class=md-nav__item> <a href=../TX2x/ class=md-nav__link> TX20/TX23 anemometer </a> </li> <li class=md-nav__item> <a href=../TSL2561/ class=md-nav__link> TSL2561 light sensor </a> </li> <li class=md-nav__item> <a href=../VEML6070/ class=md-nav__link> VEML6070 UV light sensor </a> </li> <li class=md-nav__item> <a href=../VEML6075/ class=md-nav__link> VEML6075 UVA/UVB/UVINDEX Sensor </a> </li> <li class=md-nav__item> <a href=../VEML7700/ class=md-nav__link> VEML7700 Ambient light sensor </a> </li> <li class=md-nav__item> <a href=../VL53L0x/ class=md-nav__link> VL53L0X laser ranging module </a> </li> <li class=md-nav__item> <a href=../WS2812B-RGB-Shield/ class=md-nav__link> WS2812B RGB Shield </a> </li> <li class=md-nav__item> <a href=../WS2812B-and-WS2813/ class=md-nav__link> WS2812B and WS2813 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-15 type=checkbox id=nav-15> <label class=md-nav__link for=nav-15> Supported Devices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Supported Devices" data-md-level=1> <label class=md-nav__title for=nav-15> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> Configure Unknown Device </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> All Supported Devices </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> Wi-Fi Module Pinouts </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> Supported Modules </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-16 type=checkbox id=nav-16> <label class=md-nav__link for=nav-16> Help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Help data-md-level=1> <label class=md-nav__title for=nav-16> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> Device Recovery </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> Discord Support </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Builds/ class=md-nav__link> Builds </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> Compiling </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href="http://ota.tasmota.com/tasmota/release/ " target='_blank""' class=md-nav__link> Download </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#mcp23008-mcp23017-pin-numbers-in-tasmota-compared-to-datasheets class=md-nav__link> MCP23008 / MCP23017 Pin numbers in Tasmota compared to datasheets </a> </li> <li class=md-nav__item> <a href=#usage-of-the-driver class=md-nav__link> Usage of the driver </a> </li> <li class=md-nav__item> <a href=#device-configuration class=md-nav__link> Device Configuration </a> <nav class=md-nav aria-label="Device Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#important-notice-on-use-of-interrupts class=md-nav__link> IMPORTANT NOTICE ON USE OF INTERRUPTS </a> </li> <li class=md-nav__item> <a href=#interrupt-modes-and-usage class=md-nav__link> INTERRUPT MODES AND USAGE </a> </li> <li class=md-nav__item> <a href=#home-assistant-tips class=md-nav__link> HOME ASSISTANT TIPS </a> </li> <li class=md-nav__item> <a href=#advanced-functions class=md-nav__link> ADVANCED FUNCTIONS </a> </li> <li class=md-nav__item> <a href=#advanced-function-1-interrupt-priority-intpri class=md-nav__link> ADVANCED FUNCTION #1 - INTERRUPT PRIORITY (INTPRI) </a> </li> <li class=md-nav__item> <a href=#advanced-function-2-interrupt-defer-intdef class=md-nav__link> ADVANCED FUNCTION #2 - INTERRUPT DEFER (INTDEF) </a> </li> <li class=md-nav__item> <a href=#advanced-function-3-interrupt-timer-inttimer class=md-nav__link> ADVANCED FUNCTION #3 - INTERRUPT TIMER (INTTIMER) </a> </li> <li class=md-nav__item> <a href=#advanced-function-4-interrupt-counter-enable-intcnt class=md-nav__link> ADVANCED FUNCTION #4 - INTERRUPT COUNTER ENABLE (INTCNT) </a> </li> <li class=md-nav__item> <a href=#advanced-function-5-interrupt-retain-intretain class=md-nav__link> ADVANCED FUNCTION #5 - INTERRUPT RETAIN (INTRETAIN) </a> </li> <li class=md-nav__item> <a href=#output-functions-pin-modes-5-and-6 class=md-nav__link> OUTPUT FUNCTIONS (PIN MODES 5 AND 6) </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/MCP230xx.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=mcp23008-mcp23017-gpio-expander>MCP23008 / MCP23017 GPIO Expander<a class=headerlink href=#mcp23008-mcp23017-gpio-expander title="Permanent link">~</a></h1> <p>Technical Data from the manufacturer: * Microchip <a href=https://www.microchip.com/wwwproducts/en/MCP23008>MCP23008</a> * Microchip <a href=https://www.microchip.com/wwwproducts/en/MCP23017>MCP23017</a></p> <p>Generally available breakout boards for the MCP23017 look similar to this:</p> <p><img alt=https://github.com/andrethomas/images/raw/master/mcp230xx/mcp23017_breakout.jpg src=https://github.com/andrethomas/images/raw/master/mcp230xx/mcp23017_breakout.jpg></p> <p>The MCP23008 has 8 IO pins which the MCP230xx driver uses as D0 - D7. The MCP23017 has 16 IO pins which the MCP230xx driver uses as D0 - D15. This is visualized in the circuit diagram below but it's important to note that the MCP23017 actually differentiates between PORTA (being A0 to A7) and PORTB (being B0 to B7) - The MCP230xx driver combines the two ports in sequence to translate to pins represented as D0 through D15 for the MCP23017.</p> <p>The chip can be connected quite easily, especially if you can source the DIP version of the chip. Here's a basic outline of what a typical circuit would require to be functional:</p> <p><img alt="Manual Wiring for MCP23008 / MCP23017" src=https://github.com/andrethomas/images/raw/master/mcp230xx/mcp230xx_manual_wiring_v2.png></p> <p>You will need to pick an I2C address in either of the above scenario's using the address mapping according to pin A0, A1, and A2 as from the datasheet as follows:</p> <p><img alt="MCP23008 / MCP23017 I2C Address Map" src=https://github.com/andrethomas/images/raw/master/mcp230xx/i2c_address_map.png></p> <p>You will need to define the address you are using in <code>user_config_override.h</code> for the driver to know on which address the MCP23008/MCP23017 is expected to be found.</p> <p><code>#define USE_MCP230xx_ADDR 0x20</code></p> <p>The MCP23008/MCP23017 chips allow for both INPUT and OUTPUT - Most of the functionality of the driver is focused on INPUT mode - especially since they allow interrupt reporting and are 5V tolerant.</p> <p>OUTPUT functionality is however available as pinmode 5 (Documented later in this Wiki) as an additional option for those who want to use the OUTPUT functionality using the <code>Sensor29</code> command which consumes ~1Kbyte of flash. The driver is disabled by default in the Tasmota firmware so the only way to gain its use would be to perform a manual compilation of your own firmware.</p> <p>There are three different levels in which functionality may be enabled, in the following order, by adding these lines in <code>user_config_override.h</code>:</p> <div class=codehilite><pre><span></span><code><span class=err>#define USE_MCP230xx                 // Enable INPUT mode (pinmode 1 through 4)</span>
<span class=err>#define USE_MCP230xx_OUTPUT          // Enable OUTPUT mode (pinmode 5)</span>
<span class=err>#define USE_MCP230xx_DISPLAYOUTPUT   // Display state of OUTPUT pins on main Tasmota web interface</span>
</code></pre></div> <p>The ESP8266 will automatically detect whether you have connected an MCP23008 (8 input) or MCP23017 (16 input) and will provide telemetry data in accordance with how the device was configured from within the Tasmota firmware.</p> <p>If OUTPUT is enabled, telemetry data for the current state of OUTPUT pins will also be provided by telemetry.</p> <h3 id=mcp23008-mcp23017-pin-numbers-in-tasmota-compared-to-datasheets>MCP23008 / MCP23017 Pin numbers in Tasmota compared to datasheets<a class=headerlink href=#mcp23008-mcp23017-pin-numbers-in-tasmota-compared-to-datasheets title="Permanent link">~</a></h3> <p>The table below outlines how the pins of the MCP23008/MCP23017 are assigned:</p> <p><img alt="MCP23008 / MCP23017 Pin Map" src=https://github.com/andrethomas/images/raw/master/mcp230xx/mcp_pin_mapping.PNG></p> <h3 id=usage-of-the-driver>Usage of the driver<a class=headerlink href=#usage-of-the-driver title="Permanent link">~</a></h3> <p>The MCP230xx chip (or breakout board) must be connected to the ESP8266 and the I2C pins must be configured for the module similar to the following:</p> <p><img alt=https://github.com/andrethomas/images/raw/master/mcp230xx/Generic_Config_Menu.PNG src=https://github.com/andrethomas/images/raw/master/mcp230xx/Generic_Config_Menu.PNG></p> <p>One that is complete you may want to confirm that the Tasmota firmware is finding your MCP23008/MCP23017 chip by sending the command through serial or MQTT:<br> <code>I2Cscan</code></p> <p>You should see a response giving you an address within the range of the MCP23008/MCP23017 chip (0x20 through 0x27) which may look as follows<br> <code>MQT: stat/tasmota/RESULT = {"I2CScan":"Device(s) found at 0x20"}</code></p> <p>If the extender is not detected, check your wiring and pin configuration.</p> <p>The configuration of MCP23008/MCP23017 by using <code>Sensor29</code> commands via the Console or MQTT messages.</p> <p>In order to use the MCP23008/MCP23017, add the following two lines in your <code>user_config_override.h</code> as the MCP chip support is not enabled by default. </p> <div class=codehilite><pre><span></span><code><span class=err>#define USE_MCP230xx</span>
<span class=err>#define USE_MCP230xx_ADDR 0x20</span>
</code></pre></div> <p>The MCP23008/MCP23017 supports I<sup>2</sup>C address range of 0x20 through 0x27. Take care that you are not using an address which is already used by another device (e.g., 0x27 is a known address for some I<sup>2</sup>C Liquid Crystal Displays).</p> <h2 id=device-configuration>Device Configuration<a class=headerlink href=#device-configuration title="Permanent link">~</a></h2> <p>The behavior of all pins on the MCP23008/MCP23017 can be reset to a specific setting/mode globally to simplify the initial configuration as follows</p> <table> <thead> <tr> <th>Command</th> <th>Parameters</th> </tr> </thead> <tbody> <tr> <td>Sensor29<a id=Sensor29></a></td> <td>MCP23008 / MCP23017 I<sup>2</sup>C GPIO Expander configuration<br><code>Reset&lt;x&gt;</code> = reset all pins<br>x = <code>1..6</code><br><code>1</code> = INPUT mode, no reporting, no pull-up<br><code>2</code> = INPUT mode, report on CHANGE, pull-up enabled<br><code>3</code> = INPUT mode, report on LOW, pull-up enabled<br><code>4</code> = INPUT mode, report on HIGH, pull-up enabled<br><code>5</code> = OUTPUT mode (if enabled by <code>#define USE_MCP230xx_OUTPUT</code>)<br><code>6</code> = inverted OUTPUT mode (if enabled by <code>#define USE_MCP230xx_OUTPUT</code>)<br><br><code>pin,pinmode{,intpullup|outstate{,repmode}}</code><ul></ul><code>pin</code> = the I/O pin on the MCP230xx chip<ul><li><code>0..7</code> for MCP23008</li><li><code>0..15</code> for the MCP23017)</ul><code>pinmode</code> = operational mode of the pin (<code>?, 0..5</code>)<ul><li><code>?</code> = query pin configuration</li><li><code>0</code> = Disabled (deprecated, but will be default for previously unconfigured devices)</li><li><code>1</code> = INPUT (Floating - only telemetry data will be sent according to configuration <code>TelePeriod</code> intervals)</li><li><code>2</code> = INPUT with INTERRUPT on CHANGE (will send an MQTT output on state change from LOW to HIGH <strong>and</strong> HIGH to LOW)</li><li><code>3</code> = INPUT with INTERRUPT on CHANGE to <strong>LOW</strong> (will send an MQTT output on state change <strong>only</strong> from HIGH to LOW)</li><li><code>4</code> = INPUT with INTERRUPT on CHANGE to <strong>HIGH</strong> (will send an MQTT output on state change <strong>only</strong> from LOW to HIGH)</li><li><code>5</code> = OUTPUT (if enabled with <code>#define USE_MCP230xx_OUTPUT</code>)</li><li><code>6</code> = inverted OUTPUT (if enabled with <code>#define USE_MCP230xx_OUTPUT</code>)</li></ul><code>intpullup</code> <em>(pinmode <code>1..4</code>)</em>. Pull-up resistors are disabled by default for pin mode <code>1</code> whilst enabled by default for pin modes <code>2..4</code> (because they are interrupt enabled pins and we do not want signal bounce). The internal pull-up on these pins may be disabled if necessary if you are biasing them externally.<ul><li><code>0</code> = weak internal pull-up disabled <em>(default for pinmode <code>1</code>)</em></li><li><code>1</code> = weak internal pull-up enabled <em>(default for pinmode <code>2..4</code>)</em></li></ul><code>outstate</code> <em>(pinmode <code>5..6</code>)</em> = set the default state of an OUTPUT pin on reset/power-up. If your device is configured to save state (<code>SetOption0 = 1</code>), the <code>outstate</code> setting will be ignored and the last known state of the pin will be applied during power-up/reset.<ul><li><code>0/off</code> = set output pin to OFF</li><li><code>1/on</code> = set output pin state to ON</li><li><code>2/toggle</code> = toggle output pin state</li></ul><code>repmode</code> = reporting mode (optional). Applicable only for pinmode <code>2..4</code>. Reporting mode is disabled for pinmode <code>1</code> and for output pinmodes (<code>5..6</code>)<ul><li><code>0</code> = interrupt using Event and report using telemetry <em>(default)</em></li><li><code>1</code> = interrupt using Event only (no telemetry reported)</li><li><code>2</code> = report using telemetry only (no Event triggered)</li></ul></td> </tr> </tbody> </table> <p>Examples:<br> <code>Sensor29 Reset1</code><br> <code>MQT: stat/tasmota/RESULT = {"Sensor29_D99":{"MODE":1,"PULL_UP":"OFF","INT_MODE":"DISABLED","STATE":""}}</code><br> Pin and State is reported as 99 because it is set across all pins.<br> Mode should correspond with the reset pinmode option used. </p> <p><code>Sensor29 0,?</code><br> <code>MQT: stat/tasmota/RESULT = {"Sensor29_D0":{"MODE":1,"PULL_UP":"OFF","INT_MODE":"DISABLED","STATE":"ON"}}</code><br> Confirming that the pin is in pinmode 1 and that the pull-up resistor is not enabled.<br> INT_MODE indicates the interrupt mode for pins which are interrupt enabled (pinmode 2 through 4) - In the example above it is disabled for pin mode 1 (INPUT without INTERRUPT)<br> The current STATE of the pin as ON or OFF is reported as at the time the command is issued is also reported. </p> <h3 id=important-notice-on-use-of-interrupts>IMPORTANT NOTICE ON USE OF INTERRUPTS<a class=headerlink href=#important-notice-on-use-of-interrupts title="Permanent link">~</a></h3> <p><strong><em>Only use interrupts on pins which are either explicitly pulled down GND or up to VCC externally as floating pins may cause unintended MQTT responses for pins which are floating. So unless your connected wire/device explicitly pulls the pin to GND or VCC only when conditions of an interrupt would be met it is recommended that you either do not set a pin for an interrupt mode or at least enable pull-up resistors for the unused pins with pullup = 1 when you perform your sensor29 pin,pinmode,pullup command.</em></strong></p> <p>Examples of some pin configuration options:</p> <p><code>sensor29 4,1,0</code> - Will enable D4 for INPUT without internal pull-up resistor</p> <p><code>sensor29 3,1,1</code> - Will enable D3 for INPUT with the internal pull-up resistor ENABLED</p> <p><code>sensor29 5,2,1</code> - Will enable D5 for INPUT and report on change state from LOW to HIGH and HIGH to LOW via MQTT</p> <p><code>sensor29 6,3,1</code> - Will enable D6 for INPUT and report on change state from HIGH to LOW (note pull-up is also enabled)</p> <p><code>sensor29 2,4,0</code> - Will enable D2 for INPUT and report on change state from LOW to HIGH (note pull-up is not enabled)</p> <p>Pull-up resistor support is valid for all modes from 1 through 4</p> <p>Default telemetry logging will occur for all pins as per the configured logging interval of the ESP8266 as configured in the Tasmota firmware options. The telemetry logging will push out to log and MQTT a JSON as follows:</p> <div class=codehilite><pre><span></span><code><span class=err>tele/tasmota/SENSOR = {&quot;Time&quot;:&quot;2018-08-18T16:13:47&quot;,&quot;MCP230XX&quot;: &quot;D0&quot;:0,&quot;D1&quot;:0,&quot;D2&quot;:1,&quot;D3&quot;:0,&quot;D4&quot;:0,&quot;D5&quot;:0,&quot;D6&quot;:0,&quot;D7&quot;:1}}</span>
</code></pre></div> <p>Again, this will depend on whether an MCP23008 or MCP23017 is used insofar that the number of pins/bits reported will be 8 (0 to 7) or 16 (0 to 15) respectively.</p> <h3 id=interrupt-modes-and-usage>INTERRUPT MODES AND USAGE<a class=headerlink href=#interrupt-modes-and-usage title="Permanent link">~</a></h3> <p>Interrupts will report for individual pins as and when the conditions which were configured are met and will look something like this:</p> <p>Interrupt message on HIGH for input pin 0</p> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Time&quot;</span><span class=o>:</span><span class=s2>&quot;2018-08-19T16:04:50&quot;</span><span class=o>,</span><span class=s2>&quot;MCP230XX_INT&quot;</span><span class=o>:{</span><span class=s2>&quot;D0&quot;</span><span class=o>:</span><span class=mi>1</span><span class=o>,</span><span class=s2>&quot;MS&quot;</span><span class=o>:</span><span class=mi>301</span><span class=o>}}</span>
</code></pre></div> <p>Interrupt message on LOW for input pin 1</p> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Time&quot;</span><span class=o>:</span><span class=s2>&quot;2018-08-19T16:04:50&quot;</span><span class=o>,</span><span class=s2>&quot;MCP230XX_INT&quot;</span><span class=o>:{</span><span class=s2>&quot;D1&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;MS&quot;</span><span class=o>:</span><span class=mi>519</span><span class=o>}}</span>
</code></pre></div> <p>The state of the pin captured during the interrupt is reported as Dx=y where x is the pin number and y is the state of the pin. In addition the number of milliseconds since the last interrupt occurred for the particular pin is also reported as MS=xx where xx is the number of milliseconds recorded.</p> <p>In addition to the MQTT message the driver will also execute an event command in the following format:</p> <p><code>event MCPINT_Dxx=y</code></p> <p>Where xx = the pin number from 0 through 7 (MCP23008) or 0 through 15 (MCP23017) and y the state of the pin as it was captured by the interrupt register of the MCP23008/MCP23017 chip.</p> <p>The complete output for an interrupt enabled pin would look like this:</p> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Time&quot;</span><span class=o>:</span><span class=s2>&quot;2018-08-19T16:08:28&quot;</span><span class=o>,</span><span class=s2>&quot;MCP230XX_INT&quot;</span><span class=o>:{</span><span class=s2>&quot;D0&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;MS&quot;</span><span class=o>:</span><span class=mi>217353</span><span class=o>}}</span>
<span class=n>SRC</span><span class=o>:</span> <span class=n>Rule</span>
<span class=n>RSL</span><span class=o>:</span> <span class=n>Group</span> <span class=mi>0</span><span class=o>,</span> <span class=n>Index</span> <span class=mi>1</span><span class=o>,</span> <span class=n>Command</span> <span class=n>EVENT</span><span class=o>,</span> <span class=n>Data</span> <span class=n>MCPINT_D0</span><span class=o>=</span><span class=mi>0</span>
<span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Event&quot;</span><span class=o>:</span><span class=s2>&quot;Done&quot;</span><span class=o>}</span>
</code></pre></div> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Time&quot;</span><span class=o>:</span><span class=s2>&quot;2018-08-19T16:08:46&quot;</span><span class=o>,</span><span class=s2>&quot;MCP230XX_INT&quot;</span><span class=o>:{</span><span class=s2>&quot;D0&quot;</span><span class=o>:</span><span class=mi>1</span><span class=o>,</span><span class=s2>&quot;MS&quot;</span><span class=o>:</span><span class=mi>18101</span><span class=o>}}</span>
<span class=n>SRC</span><span class=o>:</span> <span class=n>Rule</span>
<span class=n>RSL</span><span class=o>:</span> <span class=n>Group</span> <span class=mi>0</span><span class=o>,</span> <span class=n>Index</span> <span class=mi>1</span><span class=o>,</span> <span class=n>Command</span> <span class=n>EVENT</span><span class=o>,</span> <span class=n>Data</span> <span class=n>MCPINT_D0</span><span class=o>=</span><span class=mi>1</span>
<span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Event&quot;</span><span class=o>:</span><span class=s2>&quot;Done&quot;</span><span class=o>}</span>
</code></pre></div> <p>The latter makes it possible to integrate interrupt responses with rules for example:</p> <div class=codehilite><pre><span></span><code><span class=err>rule on event#MCPINT_D0=1 do power on endon on event#MCPINT_D0=0 do power off endon</span>
</code></pre></div> <p>In the example above the rule would respond to an interrupt of HIGH on pin 0 of the MCP by executing command "power on" and respond to an interrupt of LOW on pin 0 with the command "power off"</p> <p>See the Wiki on <a href=../Rules/ >Using Rules</a> for more information on how this can be helpful to your requirements.</p> <p>If you require only one of the two reporting methods you may use the sensor29 command to configure the interrupt behavior according to your requirements using command:</p> <p><code>sensor29 pin,pinmode,pullup,intmode</code></p> <p>The intmode parameter is optional for pin modes 2 through 4 (those that support interrupts) and may be configured according to the table below depending on your requirements:</p> <p><img alt="MCP23008 / MCP23017 Interrupt Modes" src=https://github.com/andrethomas/images/raw/master/mcp230xx/interrupt_modes_v1.PNG></p> <p><em>Keep in mind that the MCP23008/MCP23017 chip will only store the last interrupt registered in the interrupt register and capture register - Because the interrupt register is only checked every 50 milliseconds by the Tasmota firmware you may experience missed interrupts if your incoming signals fluctuate/change faster than 20 times per second.</em></p> <h3 id=home-assistant-tips>HOME ASSISTANT TIPS<a class=headerlink href=#home-assistant-tips title="Permanent link">~</a></h3> <p>You can use <code>SetOption59 1</code> in order to get extra SENSOR status telemetry messages in addition to event-triggered RESULT messages. This allows very good integration with Home Assistant because it needs to monitor only one payload for both periodic and instant messages using <code>binary_sensor</code>:</p> <div class=codehilite><pre><span></span><code><span class=o>-</span> <span class=n>platform</span><span class=p>:</span> <span class=n>mqtt</span>
  <span class=n>name</span><span class=p>:</span> <span class=s2>&quot;MCP23017 Teszt D0 SENSOR&quot;</span>
  <span class=n>state_topic</span><span class=p>:</span> <span class=s2>&quot;tele/tasmota/SENSOR&quot;</span>
  <span class=n>value_template</span><span class=p>:</span> <span class=s2>&quot;{{ value_json[&#39;MCP230XX&#39;].D0 }}&quot;</span>
  <span class=n>payload_on</span><span class=p>:</span> <span class=s2>&quot;1&quot;</span>
  <span class=n>payload_off</span><span class=p>:</span> <span class=s2>&quot;0&quot;</span>
  <span class=n>availability_topic</span><span class=p>:</span> <span class=s2>&quot;tele/tasmota/LWT&quot;</span>
  <span class=n>payload_available</span><span class=p>:</span> <span class=s2>&quot;Online&quot;</span>
  <span class=n>payload_not_available</span><span class=p>:</span> <span class=s2>&quot;Offline&quot;</span>
  <span class=n>qos</span><span class=p>:</span> <span class=mi>0</span>
  <span class=n>device_class</span><span class=p>:</span> <span class=n>door</span>
</code></pre></div> <h3 id=advanced-functions>ADVANCED FUNCTIONS<a class=headerlink href=#advanced-functions title="Permanent link">~</a></h3> <p>Several advanced functions have been added to extend the flexibility and interoperability of the MCP23008/MCP23017 with specific focus on adding functionality which is not present on the hardware's built-in GPIO pins and offloading some of the functionality that would normally be performed by rules or counters on the Tasmota device into the driver of the MCP23008/MCP23017.</p> <p>These include the following * INTPRI - Interrupt Priority, being able to control the rate at which the MCP23008/MCP23017 is polled to see if any interrupts has occurred since the previous poll. * INTDEF - Interrupt Deffer, being able to control the number of interrupts that are ignored on a specific pin before reporting would occur via telemetry and/or EVENT. * INTTIMER - Interrupt Timer which allows for time based counter reporting, specifically reporting the number of times an interrupt has occurred on interrupt enabled pins. * INTCNT - Works with INTTIMER to enable/disable counting for a specific pin. * INTRETAIN - Keep track of whether an interrupt occurred or not and defer reporting to next telemetry message.</p> <p>The above additions are described in further detail below.</p> <h3 id=advanced-function-1-interrupt-priority-intpri>ADVANCED FUNCTION #1 - INTERRUPT PRIORITY (INTPRI)<a class=headerlink href=#advanced-function-1-interrupt-priority-intpri title="Permanent link">~</a></h3> <p>The maximum interrupt polling rate is once per approximately 50 milliseconds - This is what the Tasmota firmware allows as a maximum and how it is configured in the MCP23008/MCP23017 driver by default.</p> <p>If you want to reduce the number of interrupt polls per second you may use the INTPRI command parameter as follows:</p> <p><code>sensor29 intpri</code></p> <p>Will give you the current setting via JSON response as follows:</p> <p><code>MQT: stat/tasmota/RESULT = {"MCP230xx_INTPRI":{"D_99":0}}</code></p> <p>To change the value you may use command as follows:</p> <p><code>sensor29 intpri,x</code></p> <p>Where x is the number of 50ms cycles (between 0 and 20) which will be skipped before the MCP23008/MCP23017 chip is polled for interrupt. The last interrupt recorded by the MCP23008/MCP23017 will be reported via the configured method.</p> <p>For example, lets assume you only want the interrupt polling to occur every 500ms (i.e. twice per second) you could do command:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 intpri,10 // interrupt polled every 10*50 milliseconds, approximated</span>
</code></pre></div> <h3 id=advanced-function-2-interrupt-defer-intdef>ADVANCED FUNCTION #2 - INTERRUPT DEFER (INTDEF)<a class=headerlink href=#advanced-function-2-interrupt-defer-intdef title="Permanent link">~</a></h3> <p>This setting is useful if you need to defer the reporting of an interrupt by event or telemetry until it has occurred at least X number of times.</p> <p>Syntax:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 intdef,pin         // Will provide current setting of pin</span>
<span class=err>sensor29 intdef,pin,x       // Will set new deffer value to x (0-15)</span>
</code></pre></div> <p>Examples:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 intdef,pin,5       // Will only report interrupt when it occurs 5 times</span>
<span class=err>sensor29 intdef,pin,10      // Will only report interrupt when it has occured 10 times</span>
</code></pre></div> <p>Interrupts occurring a number of times prior to the setting will be counted but ignored for reporting purposes.</p> <h3 id=advanced-function-3-interrupt-timer-inttimer>ADVANCED FUNCTION #3 - INTERRUPT TIMER (INTTIMER)<a class=headerlink href=#advanced-function-3-interrupt-timer-inttimer title="Permanent link">~</a></h3> <p>This function is used in conjunction with INTCOUNT (Documented below)</p> <p>It allows a timer to be configured over which period the number of interrupts will be counted.</p> <p>Syntax:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 inttimer          // Will provide the current amount of seconds for timer</span>
<span class=err>sensor29 inttimer,x        // Allows setting number of seconds (x) for timer interval</span>
</code></pre></div> <h3 id=advanced-function-4-interrupt-counter-enable-intcnt>ADVANCED FUNCTION #4 - INTERRUPT COUNTER ENABLE (INTCNT)<a class=headerlink href=#advanced-function-4-interrupt-counter-enable-intcnt title="Permanent link">~</a></h3> <p>Enable interrupt counting for a particular pin. This functionality works in conjunction with INTTIMER (Documented above)</p> <p>Syntax:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 intcnt,pin       // Readback current setting of interrupt counting for pin (0=OFF/1=ON)</span>
<span class=err>sensor29 intcnt,pin,x     // Enable/Disable interrupt counting for pin (x=0=OFF,x=1=ON)</span>
</code></pre></div> <p>Use case example could be if you want to count the number of times an interrupt occurred on a D0 over a period of 60 seconds. For this we will need the following:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 inttimer,60      // Enable interrupt timer for 60 second interval</span>
<span class=err>sensor29 intcnt,0,1       // Enable interrupt counter for pin D0</span>
</code></pre></div> <p>The above will result in the number of interrupts that occur within the 60 second period configured to be counted and then reported via telemetry at the end of the 60 second time.</p> <p>A use case for this would be to determine the RPM of something, or perhaps the number of pulses received from an energy meter within a 60 second period to determine energy usage on a per minute bases... or wind speed from impulses received from an anemometer.</p> <h3 id=advanced-function-5-interrupt-retain-intretain>ADVANCED FUNCTION #5 - INTERRUPT RETAIN (INTRETAIN)<a class=headerlink href=#advanced-function-5-interrupt-retain-intretain title="Permanent link">~</a></h3> <p>This functionality disables immediate even and/or telemetry reporting for a specific pin that has been configured for any of the interrupt modes listed above.</p> <p>If this is enabled for a particular pin and the pin has an interrupt mode configured the fact that an interrupt condition was met will be remembered (but not reported immediately) and will be reported in a MQTT message when the next telemetry period occurs in the following format:</p> <div class=codehilite><pre><span></span><code><span class=err>{&quot;Time&quot;:&quot;2018-12-06T23:59:26&quot;,&quot;MCP_INTRETAIN&quot;: {&quot;D0&quot;:1,&quot;D1&quot;:0,&quot;D2&quot;:1,&quot;D3&quot;:1,&quot;D4&quot;:0,&quot;Value&quot;:13}}</span>
</code></pre></div> <p>In the example above it means that an interrupt occurred at some point during the previous telemetry period for pins D0, D2, and D3 as indicated by the 1's present for each pin - Pins with a value of 0 means that although the pin was configured for interrupt retain that no interrupt occurred during the previous telemetry period for that particular pin.</p> <p>For the sake of handling bit-wise operations within your home automation software the decimal value of the respective bits are also aggregated into the Value output included in the telemetry message.</p> <p>Syntax:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 intretain,pin       // Readback current setting of interrupt retain for a pin (0=OFF/1=ON)</span>
<span class=err>sensor29 intretain,pin,x     // Enable/Disable interrupt counting for pin (x=0=OFF,x=1=ON)</span>
</code></pre></div> <hr> <h3 id=output-functions-pin-modes-5-and-6>OUTPUT FUNCTIONS (PIN MODES 5 AND 6)<a class=headerlink href=#output-functions-pin-modes-5-and-6 title="Permanent link">~</a></h3> <p>Enable OUTPUT support by removing the comment (#) for the following compiler directive to your user_config_override.h</p> <p><code>#define USE_MCP230xx_OUTPUT</code></p> <p>This will extend the sensor29 command enabling pinmode 5 and 6 (inverted) for output, for example:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 0,5,0  // Configure pin 0 as OUTPUT and default to OFF on reset/power-up</span>
<span class=err>sensor29 0,5,1  // Configure pin 0 as OUTPUT and default to ON on reset/power-up</span>
<span class=err>sensor29 0,6,0  // Configure pin 0 as INVERTED OUTPUT and default to ON on reset/power-up</span>
<span class=err>sensor29 0,6,1  // Configure pin 0 as INVERTED OUTPUT and default to OFF on reset/power-up</span>
</code></pre></div> <p>Confirmation will be sent using MQT, for example:</p> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Sensor29_D2&quot;</span><span class=o>:{</span><span class=s2>&quot;MODE&quot;</span><span class=o>:</span><span class=mi>5</span><span class=o>,</span><span class=s2>&quot;PULL_UP&quot;</span><span class=o>:</span><span class=s2>&quot;OFF&quot;</span><span class=o>,</span><span class=s2>&quot;INT_MODE&quot;</span><span class=o>:</span><span class=s2>&quot;DISABLED&quot;</span><span class=o>,</span><span class=s2>&quot;STATE&quot;</span><span class=o>:</span><span class=s2>&quot;OFF&quot;</span><span class=o>}}</span>
</code></pre></div> <p>The only difference between pinmode 5 and pinmode 6 is that pinmode 5 will result in normal output state, i.e. pin will be LOW when OFF whereas pinmode 6 will cause the pin to be HIGH when OFF. This is useful when using relays which have inverted inputs.</p> <p>If SAVE_STATE / setoption0 is enabled in your firmware configuration then the last known state of the pin will be used on power-up/reset thereby ignoring the pull-up parameter in the commands above.</p> <p>To change the state of an output pin you may use:</p> <div class=codehilite><pre><span></span><code><span class=err>sensor29 0,ON   // Turn pin ON (HIGH if pinmode 5 or LOW if pinmode 6(inverted))</span>
<span class=err>sensor29 0,OFF  // Turn pin OFF (LOW if pinmode 5 or HIGH if pinmode 6(inverted))</span>
<span class=err>sensor29 0,T    // Toggle the current state of pin from ON to OFF, or OFF to ON</span>
</code></pre></div> <p>Additionally all OUTPUT pins will be exposed as RELAYS and ordered behind the normal GPIO based RELAYS. Instead of the above sensor command you can also use the POWERxx command like for any RELAY. If you define INTERLOCK and/or INTERLOCK groups these will also take care about the out pins. The numbering of the RELAY's is following the standard tasmota behavior. Counting from D0 any defined OUT pin will add a new RELAY. Example: D0, D2, D3, D7 are out pins, then D0=POWER1, D2=POWER2, D3=POWER3 and D7=POWER4. Same behavior you can expect when defining PULSETIME for RELAYS.</p> <p>Telemetry response will be provided accordingly, for example:</p> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;S29cmnd_D0&quot;</span><span class=o>:{</span><span class=s2>&quot;COMMAND&quot;</span><span class=o>:</span><span class=s2>&quot;ON&quot;</span><span class=o>,</span><span class=s2>&quot;STATE&quot;</span><span class=o>:</span><span class=s2>&quot;ON&quot;</span><span class=o>}}</span>
<span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;S29cmnd_D0&quot;</span><span class=o>:{</span><span class=s2>&quot;COMMAND&quot;</span><span class=o>:</span><span class=s2>&quot;OFF&quot;</span><span class=o>,</span><span class=s2>&quot;STATE&quot;</span><span class=o>:</span><span class=s2>&quot;OFF&quot;</span><span class=o>}}</span>
<span class=n>MQT</span><span class=o>:</span> <span class=n>stat</span><span class=sr>/tasmota/</span><span class=n>RESULT</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;S29cmnd_D0&quot;</span><span class=o>:{</span><span class=s2>&quot;COMMAND&quot;</span><span class=o>:</span><span class=s2>&quot;TOGGLE&quot;</span><span class=o>,</span><span class=s2>&quot;STATE&quot;</span><span class=o>:</span><span class=s2>&quot;ON&quot;</span><span class=o>}}</span>
</code></pre></div> <p><code>COMMAND = Command which was sent</code></p> <p><code>STATE = New state after execution of command</code></p> <p>Telemetry data is provided for pins which are enabled for output. For example, if pin 0 was enabled for OUTPUT the following additional telemetry message will be sent by MQTT at the same time as the normal telemetry interval occurs which reports the current states of pins. Additionally you can also use the standard POWERxx reporting.</p> <div class=codehilite><pre><span></span><code><span class=n>MQT</span><span class=o>:</span> <span class=n>tele</span><span class=sr>/tasmota/</span><span class=n>SENSOR</span> <span class=o>=</span> <span class=o>{</span><span class=s2>&quot;Time&quot;</span><span class=o>:</span><span class=s2>&quot;2018-08-18T16:41:20&quot;</span><span class=o>,</span><span class=s2>&quot;MCP230XX&quot;</span><span class=o>:{</span><span class=s2>&quot;D0&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;D1&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;D2&quot;</span><span class=o>:</span><span class=mi>1</span><span class=o>,</span><span class=s2>&quot;D3&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;D4&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;D5&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;D6&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>,</span><span class=s2>&quot;D7&quot;</span><span class=o>:</span><span class=mi>0</span><span class=o>},</span><span class=s2>&quot;MCP230_OUT&quot;</span><span class=o>:</span> <span class=o>{</span><span class=s2>&quot;OUT_D4&quot;</span><span class=o>:</span><span class=s2>&quot;OFF&quot;</span><span class=o>,</span><span class=s2>&quot;END&quot;</span><span class=o>:</span><span class=mi>1</span><span class=o>}}</span>
</code></pre></div> <p>Note the MCP230XX telemetry which provides the current logic state of all the pins and then the second MQT telemetry as MCP230_OUT which indicates the current state of pins configured for OUTPUT - In this case pin 4 or D4</p> <p>Remember to adhere to the current limitations of OUTPUT pins when using the device for switching external devices such as LED's. That being said most readily available relay pc boards available from vendors are optically isolated from the input so these will work perfectly.</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../LM75AD/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> LM75AD temperature sensor </div> </div> </a> <a href=../MGC3130/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> MGC3130 3D tracking and gesture controller </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.18f0862e.min.js></script> <script src=../assets/javascripts/bundle.994580cf.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>